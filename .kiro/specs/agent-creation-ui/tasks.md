# 구현 계획

- [x] 1. 핵심 인프라 및 인터페이스 설정
  - 라이프사이클 관리를 포함한 기본 웹뷰 프로바이더 클래스 생성
  - 폼 데이터 모델 및 검증 결과를 위한 TypeScript 인터페이스 정의
  - 웹뷰와 익스텐션 간 메시지 통신 프로토콜 설정
  - _요구사항: 1.1, 1.2, 1.3_

- [x] 2. AgentCreationFormService 구현
  - 기본 폼 데이터 생성을 포함한 서비스 클래스 생성
  - 기존 AgentConfigService 검증을 사용한 폼 검증 로직 구현
  - 내장 도구 구성 및 매핑 로직 추가
  - 폼 데이터로부터 에이전트 구성 생성 기능 구현
  - _요구사항: 2.1, 2.2, 2.3, 5.1, 5.2_

- [x] 3. 웹뷰 HTML 구조 및 기본 스타일링 생성
  - 모든 필수 섹션(기본 속성, 도구, 리소스)을 포함한 HTML 폼 구조 구축
  - VS Code 테마 인식 CSS 스타일링 구현
  - 반응형 레이아웃 및 접근성 속성 추가
  - 이름, 설명, 프롬프트 입력을 위한 폼 섹션 생성
  - _요구사항: 2.1, 2.2, 7.1, 7.2, 7.3_

- [x] 4. 도구 선택 UI 구현
  - 사용 가능한 도구와 허용된 도구를 위한 이중 열 체크박스 인터페이스 생성
  - 도구 분류 및 표시 로직 구현
  - 자동 체크박스 종속성 로직 추가 (허용된 도구는 사용 가능한 도구에 포함되어야 함)
  - UI에 도구 설명 및 카테고리 표시
  - _요구사항: 3.1, 3.2, 3.3, 3.4, 3.5, 3.6, 3.7, 3.8_

- [x] 5. 리소스 관리 인터페이스 구축
  - 기본값이 미리 채워진 현재 리소스 목록 표시 생성
  - 경로 입력 검증을 포함한 리소스 추가 기능 구현
  - 각 목록 항목에 대한 리소스 제거 버튼 추가
  - file:// 접두사 검증 및 중복 감지 구현
  - _요구사항: 4.1, 4.2, 4.3, 4.4, 4.5, 4.6, 4.7, 4.8_

- [x] 6. 클라이언트 측 폼 검증 구현
  - 모든 폼 필드에 대한 실시간 검증 추가
  - 검증 피드백 표시 시스템 생성
  - 폼 제출 상태 관리 구현
  - 검증 오류 강조 표시 및 메시징 추가
  - _요구사항: 6.1, 6.2, 6.3, 6.4, 6.5, 6.6_

- [x] 7. 웹뷰 프로바이더 및 메시지 처리 생성
  - 웹뷰 라이프사이클 관리를 포함한 AgentCreationWebviewProvider 클래스 구현
  - 웹뷰와 익스텐션 간 양방향 메시지 통신 설정
  - 폼 제출 및 취소 메시지 처리
  - 웹뷰 해제 및 정리 로직 구현
  - _요구사항: 1.1, 1.4, 1.5, 7.4, 7.5_

- [ ] 8. 기존 에이전트 관리 서비스와 통합
  - 기존 createAgent 명령을 텍스트 입력 대신 웹뷰 폼을 사용하도록 수정
  - 실제 에이전트 생성을 위해 폼 서비스를 AgentManagementService에 연결
  - 기존 ErrorHandler 서비스와 오류 처리 통합 구현
  - 성공적인 생성 후 에이전트 트리 뷰 새로고침 추가
  - _요구사항: 1.3, 1.4, 5.3, 5.4, 5.5, 5.6, 5.7, 5.8_

- [ ] 9. 포괄적인 폼 검증 및 오류 처리 추가
  - 기존 검증 로직을 사용한 서버 측 검증 구현
  - 인라인 및 요약 오류 메시지를 포함한 오류 표시 시스템 생성
  - 검증 오류 중 폼 상태 지속성 추가
  - 오류 복구 제안 및 사용자 안내 구현
  - _요구사항: 6.1, 6.2, 6.3, 6.4, 6.5, 6.6_

- [ ] 10. 웹뷰 JavaScript 폼 로직 구현
  - 폼 상태 관리 및 이벤트 처리 생성
  - 사용자 상호작용에 기반한 동적 UI 업데이트 구현
  - 폼 제출 및 취소 처리 추가
  - VS Code API 통신 레이어 생성
  - _요구사항: 1.1, 1.2, 1.3, 6.1, 6.2, 7.3_

- [ ] 11. 접근성 및 키보드 탐색 지원 추가
  - 모든 폼 요소에 대한 완전한 키보드 탐색 구현
  - 적절한 ARIA 레이블 및 스크린 리더 지원 추가
  - 논리적인 탭 순서 및 포커스 관리 보장
  - VS Code의 고대비 테마로 테스트
  - _요구사항: 7.3, 7.4, 7.5, 7.6_

- [ ] 12. 포괄적인 단위 테스트 생성
  - AgentCreationFormService 검증 및 데이터 매핑에 대한 테스트 작성
  - 웹뷰 프로바이더 라이프사이클 및 메시지 처리 테스트
  - 폼 검증 로직 및 오류 시나리오에 대한 테스트 추가
  - 도구 선택 및 리소스 관리 로직에 대한 테스트 생성
  - _요구사항: 1.1, 2.1, 3.1, 4.1, 5.1, 6.1_

- [ ] 13. 통합 테스트 및 수동 테스트 시나리오 구현
  - 완전한 에이전트 생성 플로우에 대한 종단 간 테스트 생성
  - 기존 서비스와의 오류 처리 통합 테스트
  - 에이전트 파일 생성 및 트리 뷰 업데이트 검증
  - 폼 취소 및 정리 시나리오 테스트
  - _요구사항: 1.3, 1.4, 1.5, 5.3, 5.4, 5.8_

- [ ] 14. 성공 알림 및 생성 후 작업 추가
  - 에이전트 생성 후 성공 알림 표시 구현
  - 생성 후 작업 버튼 추가 (파일 열기, 다른 에이전트 생성)
  - 생성 후 워크플로우 통합 처리
  - 성공적인 생성 후 적절한 웹뷰 정리 보장
  - _요구사항: 1.4, 7.5, 7.6_

- [ ] 15. UI 개선 및 최종 향상 기능 추가
  - CSS 스타일링 및 VS Code 테마 통합 개선
  - 로딩 상태 및 진행률 표시기 추가
  - 폼 필드 플레이스홀더 텍스트 및 도움말 툴팁 구현
  - 일반적인 작업을 위한 키보드 단축키 추가
  - _요구사항: 7.1, 7.2, 7.3, 7.4, 7.5, 7.6_